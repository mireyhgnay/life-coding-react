# 08. Create êµ¬í˜„í•˜ê¸°

> ìœ íŠœë¸Œ ê°•ì˜ 19ê°•

<br>

## CRUD

Create / Read / Update / Delete

<br>

## Create êµ¬í˜„í•˜ê¸°

`<TOC>` ì™€ `<Content>` ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì— create/update/delete ë²„íŠ¼ì„ ìƒì„±í•œë‹¤.  
create í´ë¦­ì‹œ, CreateContent ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½ë˜ë©´ì„œ ë‚´ìš©ì´ í•¨ê»˜ ë³€ê²½ë˜ë„ë¡í•œë‹¤.

<br>

## 1. Control.js ì»´í¬ë„ŒíŠ¸ ìƒì„±

create / update / delete ë²„íŠ¼ ìƒì„±í•˜ì—¬ í˜„ì¬ì˜ ìƒíƒœì— ë”°ë¼ì„œ ëª¨ë“œê°€ ë³€ê²½ë˜ë„ë¡ ì„¤ì •í•´ì¤€ë‹¤.

```jsx
class Control extends Component {
  render() {
    return (
      <ul>
        <li>
          <a
            href="/create"
            onClick={function (e) {
              e.preventDefault();
              this.props.onChangeMode("create");
            }.bind(this)}
          >
            create
          </a>
        </li>
        <li>
          <a
            href="/update"
            onClick={function (e) {
              e.preventDefault();
              this.props.onChangeMode("update");
            }.bind(this)}
          >
            update
          </a>
        </li>
        <li>
          <input
            type="button"
            value="delete"
            onClick={function (e) {
              e.preventDefault();
              this.props.onChangeMode("delete");
            }.bind(this)}
          ></input>
        </li>
      </ul>
    );
  }
}
```

<br>

ê° ë²„íŠ¼ í´ë¦­ì‹œ(onClick) mode ë¥¼ create / update / delete ë¡œ ë³€ê²½í•©ë‹ˆë‹¤

```jsx
<Control
  onChangeMode={(_mode) => {
    this.setState({
      mode: _mode,
    });
  }}
></Control>
```

<br>

## 2. ê° ì—­í• ì— ë§¡ê²Œ Content ì»´í¬ë„ŒíŠ¸ íƒœê·¸ ë° ë‚´ìš© ë³€ê²½í•˜ê¸°

1. ê¸°ë³¸ê°’ìœ¼ë¡œ ë…¸ì¶œë˜ë˜ Content.js â†’ Readcontent.js ë³€ê²½

   ```jsx
   import React, { Component } from "react";

   class ReadContent extends Component {
     render() {
       console.log("Content render");
       return (
         <article>
           <h2>{this.props.title}</h2>
           {this.props.desc}
         </article>
       );
     }
   }

   export default ReadContent;
   ```

<br>

2. create ì„ íƒì‹œ ë…¸ì¶œë˜ëŠ” CreateContent.js ì»´í¬ë„ŒíŠ¸ ìƒì„±

   ```jsx
   import React, { Component } from "react";

   class CreateContent extends Component {
     render() {
       return (
         <article>
           <h2>Create</h2>
           <form></form>
         </article>
       );
     }
   }

   export default CreateContent;
   ```

<br>

3. App ì—ì„œ Content ì»´í¬ë„ŒíŠ¸ë¥¼ {\_article}ë¡œ ë³€ê²½í•˜ì—¬ íƒœê·¸ê°€ ë³€ê²½ë  ìˆ˜ ìˆë„ë¡ if ë¬¸ ìˆ˜ì •

   - {\_article} ë¡œ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ReadContent ê°€ ë³´ì¼ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•œë‹¤.
     - welcome ëª¨ë“œì¼ë•Œ + ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì¼ ë•Œ ëª¨ë‘
     - else if ì— create ëª¨ë“œì¼ ë•Œ CreateContentë¡œ ë°”ë€Œë©´ì„œ ë…¸ì¶œë  ìˆ˜ ìˆë„ë¡ ì„¤ì •

   ```jsx
   class App extends Component {
     // ìƒëµ ..

     render() {
       var _title,
         _desc,
         _article = null;
       if (this.state.mode === "welcome") {
         _title = this.state.welcome.title;
         _desc = this.state.welcome.desc;
         // welcome ëª¨ë“œì¼ë•Œì˜ ê¸°ë³¸ ë…¸ì¶œ
         _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
       } else if (this.state.mode === "read") {
         var i = 0;
         while (i < this.state.contents.length) {
           var data = this.state.contents[i];
           if (data.id === this.selected_content_id) {
             _title = data.title;
             _desc = data.desc;
             break;
           }
           i = i + 1;
         }

         // ëª¨ë“  ì¡°ê±´ì´ ì•„ë‹ë•Œë„ ReadContent ë¡œ ë³´ì—¬ì§€ë„ë¡
         _article = <ReadContent title={_title} desc={_desc}></ReadContent>;
       } else if (this.state.mode === "create") {
         // create ëª¨ë“œ ì¶”ê°€
         _article = <CreateContent></CreateContent>;
       }

       return (
         <div className="App">
           // ìƒëµ ..
           <Control
             onChangeMode={(_mode) => {
               this.setState({
                 mode: _mode,
               });
             }}
           ></Control>
           // _article ë³€ìˆ˜ ì‚¬ìš©í•˜ì—¬ ëª¨ë“œì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆë„ë¡
           {_article}
         </div>
       );
     }
   }
   ```

<br>

---

## Create êµ¬í˜„í•˜ê¸° : form

### push, concat

- pushëŠ” ì›ë³¸ ë°°ì—´ì„ ë°”ê¾¸ëŠ” ê²ƒì´ê³ ,
- concatì€ ì›ë³¸ ë°°ì—´ì„ ë³µì‚¬í•´ì„œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“œëŠ” ê²ƒ

<br>

### shouldComponentUpdate()

- render() ì´ì „ì— shouldComponentUpdate() ê°€ ì‹¤í–‰ëœë‹¤.
- concat/ shouldComponentUpdate ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ  ğŸ‘‰ ì›ë³¸ ë°°ì—´ì„ ë°”ê¾¸ì§€ ì•ŠëŠ”ë‹¤!

TOC.js

```jsx
class TOC extends Component {
  shouldComponentUpdate(newProps, newState) {
    console.log(
      "===> TOC render shouldComponentUpdate",
      newProps.data, // ì¶”ê°€ë˜ì—ˆì„ë•Œ ë°”ë€ ë°ì´í„°
      this.props.data // ì›ë³¸ ë°ì´í„°
    );

    return false;
  }
}
```

<br>

### Array.from() ìœ¼ë¡œ ë°°ì—´ ë³µì œí•˜ê¸°

ì´ë ‡ê²Œ ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” push ë¥¼ ì‚¬ìš©í•´ë„ Noìƒê´€..!
concat ë„ ê´œì°®ë‹¤.
ë”ë” ì¢‹ì€ ë°©ë²•ì€ Array.from ì‚¬ìš©í•˜ëŠ”ê²ƒ!

<br>

ì˜ˆì‹œ

```jsx
var a = [1, 2];
var b = Array.from(a);
console.log(a, b, a === b); // false
// ë‚´ìš©ì€ ê°™ì§€ë§Œ ì „í˜€ ë‹¤ë¥¸ ë°°ì—´ì´ë‹¤.

b.push(3);
console.log(a); // [1, 2]
console.log(b); // [1, 2, 3]
```
